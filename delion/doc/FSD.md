# [Feature-Sliced Design](https://feature-sliced.design/ru/)

Feature-Sliced Design (FSD) — это архитектурная методология для проектирования frontend-приложений. Проще говоря, это
свод правил и соглашений по организации кода. Главная цель методологии — сделать проект понятным и структурированным,
особенно в условиях регулярного изменения требований бизнеса.

Проект на FSD состоит из слоев (layers), каждый слой состоит из слайсов (slices) и каждый слайс состоит из сегментов (
segments).

![](https://feature-sliced.design/ru/assets/images/visual_schema-e826067f573946613dcdc76e3f585082.jpg)

## [Слои](https://feature-sliced.design/ru/docs/reference/layers)

Слои - это первый уровень организационной иерархии в Feature-Sliced Design. Их цель - разделить код на основе того,
сколько ответственности ему требуется и от скольких других модулей в приложении он зависит.

Каждый слой несет в себе особый семантический смысл, помогающий определить, какую ответственность следует возложить на
модуль в вашем коде. Названия и значения слоёв стандартизированы для всех проектов, построенных с использованием
Feature-Sliced Design.

Всего существует 7 слоёв, расположенных от наибольшей ответственности и зависимости к наименьшей:

- App (Приложение)
- ~~Processes~~ (Процессы, устаревший слой)
- Pages (Страницы)
- Widgets (Виджеты)
- Features (Фичи/функции)
- Entities (Сущности)
- Shared (Общий)

> Вы не обязаны использовать все слои в своем проекте - добавляйте только те, что приносят пользу вашему проекту.

Слои состоят из слайсов — сильно сцепленных групп модулей. Feature-Sliced Design поддерживает низкую связанность,
поэтому зависимости между слайсами регулируются правилом импортов для слоёв:

**_Модуль в слайсе может импортировать другие слайсы только в том случае, если они расположены на слоях строго ниже._**

[Определения слоёв](https://feature-sliced.design/ru/docs/reference/layers#%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D1%81%D0%BB%D0%BE%D1%91%D0%B2)

[Памятка по декомпозиции](https://feature-sliced.design/ru/docs/get-started/cheatsheet)

## [Слайсы](https://feature-sliced.design/ru/docs/reference/slices-segments#%D1%81%D0%BB%D0%B0%D0%B9%D1%81%D1%8B)

Слайсы - это второй уровень в организационной иерархии Feature-Sliced Design. Их основное назначение - группировать код
по его значению для продукта, бизнеса или просто приложения.

Близко связанные слайсы могут быть структурно сгруппированы в одной папке, но они должны соблюдать те же правила
изоляции, что и другие слайсы - в этом каталоге не должно быть
_**никакого кода для совместного использования несколькими
слайсами.**_

```
features (слой)
|-- /post (слайс)
|---- /add (слайс)
|---- /delete (слайс)
```

> Слои Shared и App не содержат слайсов. Это связано с тем, что Shared не должен содержать никакой бизнес-логики,
> следовательно, не имеет значения для продукта, а App должен содержать только код, относящийся ко всему приложению,
> поэтому в разбиении нет необходимости.

## [Сегменты](https://feature-sliced.design/ru/docs/reference/slices-segments#%D1%81%D0%B5%D0%B3%D0%BC%D0%B5%D0%BD%D1%82%D1%8B)

Сегменты - это третий и последний уровень в организационной иерархии, их цель - группировать код по его технической
природе.

Существует несколько стандартизированных названий сегментов:

- **ui** - компоненты пользовательского интерфейса, функции форматирования данных.
- **model** - бизнес-логика и хранилища данных, функции для обработки этих данных.
- **lib** - вспомогательный инфраструктурный код.
- **api** - взаимодействие с внешними API, API-методы бэкенда.

> Другие сегменты допускаются, но должны создаваться только по необходимости.
> Наиболее распространенными местами для других сегментов являются слои
> App и Shared, где срезы не имеют смысла.

| Layer        | ui                                                                                                                                 | model                                                                                                                                                                           | lib                                                                                                                                     | api                                                                                                            |
|--------------|------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------|
| **Shared**   | UI-библиотека                                                                                                                      | Обычно не используется                                                                                                                                                          | Утилитарные модули из нескольких связанных файлов.                                                                                      | Примитивный API-клиент с дополнительными функциями, такими как аутентификация или кэширование.                 |
| **Entities** | Скелет бизнес-сущности со слотами для интерактивных элементов                                                                      | Хранилище объектов этой сущности, а также функции для обработки этих объектов.                                                                                                  | Функции над объектами этой сущности, не связанные с хранением данных                                                                    | API-методы, использующие API-клиент из Shared для упрощения коммуникации с бэкендом                            |
| **Features** | Интерактивные элементы, позволяющие пользователям использовать эту функцию                                                         | Бизнес-логика и хранилище инфраструктурных данных, если требуется (например, текущая тема приложения). Здесь лежит код, который непосредственно создает пользу для пользователя | Инфраструктурный код, который позволяет сегменту model более кратко описать бизнес-логику                                               | API-методы, представляющие эту функцию на бэкенде.Может объединять API-методы из Entities.                     |
| **Widgets**  | Композиция Entities и Features в самодостаточные блоки интерфейса. Также может содержать ограничители ошибок и состояния загрузки. | Хранилище инфраструктурных данных, если требуется                                                                                                                               | Не-бизнес-взаимодействия (например, жесты) и прочий код, необходимый для функционирования этого блока на странице                       | Обычно не используется, но может содержать загрузчики данных в контексте вложенного роутинга (например, Remix) |
| **Pages**    | Композиция Entities, Features и Widgets в полноценные страницы. Также может содержать ограничители ошибок и состояния загрузки.    | Обычно не используется                                                                                                                                                          | Не-бизнес-взаимодействия (например, жесты) и прочий код, необходимый для создания полноценного пользовательского опыта на этой странице | Загрузчики данных для фреймворков, ориентированных на SSR (рендеринг на сервере)                               |

